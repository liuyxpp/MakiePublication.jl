<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tutorial · MakiePublication.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://www.yxliu.group/MakiePublication/tutorial/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">MakiePublication.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../quickstart/">Quick Start</a></li><li class="is-active"><a class="tocitem" href>Tutorial</a><ul class="internal"><li><a class="tocitem" href="#Simple-Plots"><span>Simple Plots</span></a></li><li><a class="tocitem" href="#Complicated-Plots"><span>Complicated Plots</span></a></li><li><a class="tocitem" href="#Color-Palettes"><span>Color Palettes</span></a></li><li><a class="tocitem" href="#Line-Styles"><span>Line Styles</span></a></li><li><a class="tocitem" href="#Markers"><span>Markers</span></a></li><li><a class="tocitem" href="#Hollow-Markers"><span>Hollow Markers</span></a></li><li><a class="tocitem" href="#Cyclers"><span>Cyclers</span></a></li><li><a class="tocitem" href="#Saving-A-Figure-As-An-Image-File"><span>Saving A Figure As An Image File</span></a></li></ul></li><li><a class="tocitem" href="../manual/">User Manual</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Tutorial</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Tutorial</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/liuyxpp/MakiePublication.jl/blob/main/docs/src/tutorial/index.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Tutorial"><a class="docs-heading-anchor" href="#Tutorial">Tutorial</a><a id="Tutorial-1"></a><a class="docs-heading-anchor-permalink" href="#Tutorial" title="Permalink"></a></h1><p><em>The tutorial as a Pluto notebook is available <a href="tutorial.jl">here</a></em></p><p>To use MakiePublication, we need to import it together with the CairoMakie.jl package. MakiePublication use CairoMakie since it aims to produce figures for journal publishing which often requires vector graphics in the formats of PDF, EPS, and SVG.</p><pre><code class="language-julia hljs">using MakiePublication
using CairoMakie</code></pre><h2 id="Simple-Plots"><a class="docs-heading-anchor" href="#Simple-Plots">Simple Plots</a><a id="Simple-Plots-1"></a><a class="docs-heading-anchor-permalink" href="#Simple-Plots" title="Permalink"></a></h2><p>For simple plots, we can use <code>with_theme</code> block:</p><pre><code class="language-julia hljs">with_theme(theme_web()) do
    lines(0..10, sin)
    lines!(0..10, cos)
    current_figure()
end</code></pre><p>The output figure is:</p><p><img src="simple.svg" alt="simple plot with MakiePublication default theme"/></p><p>As compared to the Makie default theme:</p><p><img src="simple_makie.svg" alt="simple plot with Makie default theme"/></p><h2 id="Complicated-Plots"><a class="docs-heading-anchor" href="#Complicated-Plots">Complicated Plots</a><a id="Complicated-Plots-1"></a><a class="docs-heading-anchor-permalink" href="#Complicated-Plots" title="Permalink"></a></h2><p><code>with_theme</code> can be also called with a plotting function. The following plotting function demonstrates how to:</p><ul><li>plot fitted lines and data points together</li><li>draw a legend at desired location and its padding, columns.</li><li>tune the padding of a figure with respect to canvas</li><li>tune axis limits</li></ul><pre><code class="language-julia hljs"># web theme: figure_padding=(2, 16, 2, 8), legend_margin=((15,0,0,10)
# other themes: figure_padding=(2, 6, 1, 6), legend_margin=((5,0,0,0)
function myplot(; figure_padding=(2,6,1,6), legend_margin=((5,0,0,0)))
    x = 0:0.001:1.0
    xs = 0:0.08:1.0
    fig = Figure(figure_padding=figure_padding)
    ax = Axis(fig, xlabel=L&quot;x&quot;, ylabel=L&quot;f(x)&quot;)

    l1 = lines!(ax, x, x.^(5/8), label=L&quot;x^{5/8}&quot;)
    s1 = scatter!(ax, xs, xs.^(5/8))
    l2 = lines!(ax, x, x.^(3/4), label=L&quot;x^{3/4}&quot;)
    s2 = scatter!(ax, xs, xs.^(3/4))
    l3 = lines!(ax, x, x, label=L&quot;x&quot;)
    s3 = scatter!(ax, xs, xs)
    l4 = lines!(ax, x, x.^(5/4), label=L&quot;x^{5/4}&quot;)
    s4 = scatter!(ax, xs, xs.^(5/4))
    l5 = lines!(ax, x, x.^(3/2), label=L&quot;x^{3/2}&quot;)
    s5 = scatter!(ax, xs, xs.^(3/2))
    l6 = lines!(ax, x, x.^2, label=L&quot;x^2&quot;)
    s6 = scatter!(ax, xs, xs.^2)
    l7 = lines!(ax, x, x.^3, label=L&quot;x^3&quot;)
    s7 = scatter!(ax, xs, xs.^3)
    l8 = lines!(ax, x, x.^4, label=L&quot;x^4&quot;)
    s8 = scatter!(ax, xs, xs.^4)
    l9 = lines!(ax, x, x.^6, label=L&quot;x^6&quot;)
    s9 = scatter!(ax, xs, xs.^6)
    l10 = lines!(ax, x, x.^8, label=L&quot;x^8&quot;)
    s10 = scatter!(ax, xs, xs.^8)

    xlims!(0, 1)
    ylims!(0, 1)

    axislegend(ax, [[l1, s1], [l2, s2], [l3, s3], [l4, s4], [l5, s5], [l6, s6], [l7, s7], [l8, s8], [l9, s9], [l10, s10]],
        [L&quot;x^{5/8}&quot;, L&quot;x^{3/4}&quot;, L&quot;x&quot;, L&quot;x^{5/4}&quot;, L&quot;x^{3/2}&quot;, L&quot;x^2&quot;, L&quot;x^3&quot;, L&quot;x^4&quot;, L&quot;x^6&quot;, L&quot;x^8&quot;], nbanks=3, position=:lt, margin=legend_margin, padding=(0,0,0,0))
    
    fig[1,1] = ax
    
    return fig
end

myplot_web() = myplot(figure_padding=(2, 16, 2, 8), legend_margin=(15,0,0,10))</code></pre><p>Applying CairoMakie default theme with following code</p><pre><code class="language-julia hljs">myplot_web()</code></pre><p>which produces</p><p><img src="complicated_makie.svg" alt="complicated plot with Makie default theme"/></p><p>Theming it by MakiePublication web theme with following code</p><pre><code class="language-julia hljs">with_theme(myplot_web, theme_web())</code></pre><p>which produces</p><p><img src="complicated.svg" alt="complicated plot with MakiePublication web theme"/></p><p>Notable changes are:</p><ul><li>Resolution and figure aspect ratio</li><li>Color palette from <code>Makie.wong_colors</code> to <code>seaborn_deep</code></li><li>Frameless figure legend</li><li>Visible minor ticks</li><li>Marker size</li><li>Spine width</li><li>Label font size</li></ul><h2 id="Color-Palettes"><a class="docs-heading-anchor" href="#Color-Palettes">Color Palettes</a><a id="Color-Palettes-1"></a><a class="docs-heading-anchor-permalink" href="#Color-Palettes" title="Permalink"></a></h2><p>MakiePublication has 15 built-in color palettes. We can choose a color palette from the array <code>MakiePublication.COLORS</code> and use it like this:</p><pre><code class="language-julia hljs">with_theme(myplot_web, theme_web(colors=MakiePublication.COLORS[5]))</code></pre><p>Note we arrange the order of the color palettes in <code>COLORS</code> by how strongly we recommend it. The first is the most recommended color palette which is the MakiePublication default, i.e. <code>seaborn_deep</code>.</p><p>Or obtain the color palette by calling a function:</p><pre><code class="language-julia hljs">with_theme(myplot_web, theme_web(colors=MakiePublication.tol_bright()))</code></pre><p>The resulted figure is</p><p><img src="color.svg" alt="Choose color palette"/></p><h2 id="Line-Styles"><a class="docs-heading-anchor" href="#Line-Styles">Line Styles</a><a id="Line-Styles-1"></a><a class="docs-heading-anchor-permalink" href="#Line-Styles" title="Permalink"></a></h2><p>By default, the line styles are given by <code>MakiePublication.LINESTYLES</code>. You can overwrite it with <code>linestyles</code> keyword of <code>theme_*</code> methods.</p><p>Moreover, the default cycle for <code>Line</code> plots does not cycle line styles. To cycle line styles, you have to pass a proper cycle using either <code>cycle</code> or <code>linecycle</code> keyword argument. See the example below:</p><pre><code class="language-julia hljs">lc = Cycle([:color, :linestyle], covary=true)
# Only solid and dashed line styles are cycled.
with_theme(myplot_web, theme_web(linecycle=lc, linestyles=[nothing, :dash]))</code></pre><p>which produces</p><p><img src="linestyle.svg" alt="Choose line styles"/></p><h2 id="Markers"><a class="docs-heading-anchor" href="#Markers">Markers</a><a id="Markers-1"></a><a class="docs-heading-anchor-permalink" href="#Markers" title="Permalink"></a></h2><p>By default, the markers are given by <code>MakiePublication.MARKERS</code>. You can overwrite it with <code>markers</code> keyword of <code>theme_*</code> methods.</p><pre><code class="language-julia hljs"># Only circle and diamond markers are cycled.
with_theme(myplot_web, theme_web(markers=[:circle, :diamond]))</code></pre><p>which produces</p><p><img src="marker.svg" alt="Choose marker types"/></p><h2 id="Hollow-Markers"><a class="docs-heading-anchor" href="#Hollow-Markers">Hollow Markers</a><a id="Hollow-Markers-1"></a><a class="docs-heading-anchor-permalink" href="#Hollow-Markers" title="Permalink"></a></h2><p>MakiePublicaion supports drawing hollow markers by using transparent color for marker face and drawing strokes only.</p><p>To draw hollow markers, we have to explicitly define a marker cycle including both <code>:color=&gt;:markercolor</code> and <code>:strokecolor=&gt;:color</code>, e.g.</p><pre><code class="language-julia hljs">Cycle([:color=&gt;:markercolor, :strokecolor=&gt;:color])</code></pre><p>Moreover, we have to define a list of <code>true</code> or <code>false</code> values which indicates the ordering of whether the marker is hollow, and pass it to the <code>ishollowmarkers</code> keyword argument. For example,</p><pre><code class="language-julia hljs">[false, true]</code></pre><p>It will make every second marker hollow.</p><p>You can also change the stroke width by passing the value to the <code>makerstrokewidth</code> keyword argument.</p><p>A full example is:</p><pre><code class="language-julia hljs">sc = Cycle([:color=&gt;:markercolor, :strokecolor=&gt;:color], covary=true)
with_theme(myplot_web, theme_web(scattercycle=sc, ishollowmarkers=[false, true], markerstrokewidth=1.5))</code></pre><p>which produces</p><p><img src="hollow.svg" alt="Create hollo markers"/></p><h2 id="Cyclers"><a class="docs-heading-anchor" href="#Cyclers">Cyclers</a><a id="Cyclers-1"></a><a class="docs-heading-anchor-permalink" href="#Cyclers" title="Permalink"></a></h2><p>Cycler is extremely powerful. Using it properly can produce very complicated figures. See the example below:</p><pre><code class="language-julia hljs">lc = Cycle([:color, :linestyle], covary=true)
sc = Cycle([:color=&gt;:markercolor, :strokecolor=&gt;:color, :marker], covary=true)
with_theme(myplot_web,
theme_web(
    colors=MakiePublication.tableau_10(),
    linestyles=[nothing, :dash, :dash],
    ishollowmarkers=[false, true, false],
    markers=[:circle, :diamond, :rtriangle],
    linecycle=lc,
    scattercycle=sc,
    markerstrokewidth=1.5)
)</code></pre><p>which produces</p><p><img src="cycler.svg" alt="Demonstrate how to use cyclers"/></p><h2 id="Saving-A-Figure-As-An-Image-File"><a class="docs-heading-anchor" href="#Saving-A-Figure-As-An-Image-File">Saving A Figure As An Image File</a><a id="Saving-A-Figure-As-An-Image-File-1"></a><a class="docs-heading-anchor-permalink" href="#Saving-A-Figure-As-An-Image-File" title="Permalink"></a></h2><p>There are two ways to save a figure as an image file.</p><ul><li>Use <code>savefig</code>. Provide a file path with desired extension, such as <code>pdf</code>, <code>eps</code>, <code>svg</code>, <code>png</code>, etc., such as</li></ul><pre><code class="language-julia hljs">fig = with_theme(myplot, theme_acs())
savefig(&quot;plot.svg&quot;, fig)</code></pre><p>For web display, we recommend use <code>svg</code> format for the image file.</p><ul><li>Use <code>save</code>. The image size can be further customized with keyword <code>px_per_unit</code>, whose default value is 1. Increasing it will increase the resolution as well as the image size.</li></ul><pre><code class="language-julia hljs">fig_web = with_theme(myplot_web, theme_web())
save(&quot;plot_web.png&quot;, fig_web, px_per_unit=4)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../quickstart/">« Quick Start</a><a class="docs-footer-nextpage" href="../manual/">User Manual »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Monday 25 December 2023 11:39">Monday 25 December 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
